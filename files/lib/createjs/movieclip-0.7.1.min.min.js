/*!
* @license EaselJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011-2013 gskinner.com, inc.
*
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
this.createjs=this.createjs||{},function(){"use strict";var t=function(n,t,i,r){this.initialize(n,t,i,r)},n=t.prototype=new createjs.Container,i;t.INDEPENDENT="independent";t.SINGLE_FRAME="single";t.SYNCHED="synched";n.mode;n.startPosition=0;n.loop=!0;n.currentFrame=0;n.timeline=null;n.paused=!1;n.actionsEnabled=!0;n.autoReset=!0;n.frameBounds=null;n._synchOffset=0;n._prevPos=-1;n._prevPosition=0;n._managed;n.Container_initialize=n.initialize;n.initialize=function(n,i,r,u){this.mode=n||t.INDEPENDENT;this.startPosition=i||0;this.loop=r;var f={paused:!0,position:i,useTicks:!0};this.Container_initialize();this.timeline=new createjs.Timeline(null,u,f);this._managed={}};n.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)};n.Container_draw=n.draw;n.draw=function(n,t){return this.DisplayObject_draw(n,t)?!0:(this._updateTimeline(),this.Container_draw(n,t),!0)};n.play=function(){this.paused=!1};n.stop=function(){this.paused=!0};n.gotoAndPlay=function(n){this.paused=!1;this._goto(n)};n.gotoAndStop=function(n){this.paused=!0;this._goto(n)};n.getLabels=function(){return this.timeline.getLabels()};n.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()};n.clone=function(){throw"MovieClip cannot be cloned.";};n.toString=function(){return"[MovieClip (name="+this.name+")]"};n.Container__tick=n._tick;n._tick=function(n){this.paused||this.mode!=t.INDEPENDENT||(this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline());this.Container__tick(n)};n._goto=function(n){var t=this.timeline.resolve(n);null!=t&&(-1==this._prevPos&&(this._prevPos=NaN),this._prevPosition=t,this._updateTimeline())};n._reset=function(){this._prevPos=-1;this.currentFrame=0};n._updateTimeline=function(){var i=this.timeline,c=this.mode!=t.INDEPENDENT,s,u,r,f,e,o;if(i.loop=null==this.loop?!0:this.loop,c?i.setPosition(this.startPosition+(this.mode==t.SINGLE_FRAME?0:this._synchOffset),createjs.Tween.NONE):i.setPosition(this._prevPos<0?0:this._prevPosition,this.actionsEnabled?null:createjs.Tween.NONE),this._prevPosition=i._prevPosition,this._prevPos!=i._prevPos){this.currentFrame=this._prevPos=i._prevPos;for(s in this._managed)this._managed[s]=1;for(var h=i._tweens,n=0,l=h.length;l>n;n++)u=h[n],r=u._target,r==this||u.passive||(f=u._stepPosition,r instanceof createjs.DisplayObject?this._addManagedChild(r,f):this._setState(r.state,f));for(e=this.children,n=e.length-1;n>=0;n--)o=e[n].id,1==this._managed[o]&&(this.removeChildAt(n),delete this._managed[o])}};n._setState=function(n,t){var i,r;if(n)for(i=n.length-1;i>=0;i--){var u=n[i],f=u.t,e=u.p;for(r in e)f[r]=e[r];this._addManagedChild(f,t)}};n._addManagedChild=function(n,i){n._off||(this.addChildAt(n,0),n instanceof t&&(n._synchOffset=i,n.mode==t.INDEPENDENT&&n.autoReset&&!this._managed[n.id]&&n._reset()),this._managed[n.id]=2)};n.Container__getBounds=n._getBounds;n._getBounds=function(n,t){var i=this.DisplayObject_getBounds();return i||(this._updateTimeline(),this.frameBounds&&(i=this._rectangle.copy(this.frameBounds[this.currentFrame]))),i?this._transformBounds(i,n,t):this.Container__getBounds(n,t)};createjs.MovieClip=t;i=function(){throw"MovieClipPlugin cannot be instantiated.";};i.priority=100;i.install=function(){createjs.Tween.installPlugin(i,["startPosition"])};i.init=function(n,t,i){return i};i.step=function(){};i.tween=function(n,i,r,u,f,e){return n.target instanceof t?1==e?f[i]:u[i]:r};i.install()}();