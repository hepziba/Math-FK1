function init(){canvas=document.getElementById("canvas");images=images||{};var n=new createjs.LoadQueue(!0,null,!0);n.addEventListener("fileload",function(n){n.item.type=="image"&&(images[n.item.id]=n.result)});n.addEventListener("complete",handleComplete);n.loadManifest(lib.properties.manifest)}function handleComplete(){exportRoot=new lib.exercise;exportRoot.isExercise=!0;exportRoot.isBatExercise=!0;exportRoot.isCheckAnswerEnabled=!1;exportRoot.isNewExerciseEnabled=!1;exportRoot.isAnswersAvailable=!0;stage=new createjs.Stage(canvas);stage.addChild(exportRoot);stage.update();createjs.Ticker.setFPS(lib.properties.fps)}var canvas,stage,exportRoot,extras=function(){},lib,images,createjs;(function(n,t,i){function a(){var t,i,n;h&&(t=!1,i=stage.getObjectsUnderPoint(stage.mouseX,stage.mouseY),stage.draggingShape&&(n=stage.globalToLocal(stage.mouseX,stage.mouseY),stage.draggingShape.x=n.x-32,stage.draggingShape.y=n.y-21,stage.update()))}function l(t){var i,u,r;t.currentTarget&&(i=new createjs.Container,u=t.currentTarget.value=="1kr"?new n.kr_1:t.currentTarget.value=="2kr"?new n.kr_2:t.currentTarget.value=="5kr"?new n.kr_5:new n.kr_10,i.addChild(u),i.scaleX=i.scaleY=f.scaleX,stage.addChild(i),stage.draggingShape=i,stage.draggingShape.value=t.currentTarget.value,r=stage.globalToLocal(stage.mouseX,stage.mouseY),stage.draggingShape.x=r.x-32,stage.draggingShape.y=r.y-21,h=!0,stage.addEventListener("stagemousemove",a),stage.addEventListener("stagemouseup",v));stage.update()}function d(t){var i,e,u,r;if(t.currentTarget){for(i=new createjs.Container,e=t.currentTarget.value=="1kr"?new n.kr_1:t.currentTarget.value=="2kr"?new n.kr_2:t.currentTarget.value=="5kr"?new n.kr_5:new n.kr_10,i.addChild(e),i.scaleX=i.scaleY=f.scaleX,stage.addChild(i),stage.draggingShape=i,stage.draggingShape.value=t.currentTarget.value,u=stage.globalToLocal(stage.mouseX,stage.mouseY),stage.draggingShape.x=u.x-32,stage.draggingShape.y=u.y-21,h=!0,stage.addEventListener("stagemousemove",a),stage.addEventListener("stagemouseup",v),r=0;r<s.length;r++)if(t.currentTarget.id==s[r].id){s.splice(r,1);break}t.currentTarget.image=null;stage.removeChild(t.currentTarget)}stage.update()}function v(){var n,t,o,l,a,r;if(h){h=!1;var u=null,v=0,e=!1;for(n=0;n<s.length;n++)if(ndgmr.checkRectCollision(stage.draggingShape,s[n])!=null){e=!0;break}if(stage.mouseInBounds)for(n=0;n<c.length;n++)if(t=c[n].children[0].globalToLocal(stage.mouseX,stage.mouseY),c[n].children[0].hitTest(t.x,t.y)==!0&&e!=!0){u=c[n];v=c[n].value;break}if(o=["1kr","2kr","5kr","10kr"],u!=null&&o.indexOf(stage.draggingShape.value)>-1){f.img_dustbinPaper.visible=!0;stage.draggingShape.on("mousedown",d);s.push(stage.draggingShape)}else l=950,a=210,i.Tween.get(stage.draggingShape).to({x:l,y:a},1e3),i.Tween.get(stage.draggingShape).to({alpha:0},1e3).call(function(){stage.removeChild(stage.draggingShape);stage.draggingShape=null;stage.update()}),r=s.length,r==0&&(f.img_dustbinPaper.visible=r==0?!1:!0);stage.removeAllEventListeners()}stage.update()}function y(){var n;for(typeof stage!="undefined"&&stage.removeChild(stage.draggingShape),n=0;n<r.length;n++)r[n].solved=!1,r[n].value=null,r[n].clicked=!1,r[n].children[1].text="",r[n].dropBoxText.text="";for(n=s.length-1;n>=0;n--)stage.removeChild(s[n]),s.pop();e=[];typeof btnReset!="undefined"&&createjs.Tween.get(btnReset).to({alpha:0},200);f.img_dustbinPaper.visible=!1;w()}function w(){for(var n=0;n<r.length;n++)r[n].isClicked=!1,r[n].children[0].graphics._fillInstructions[0].params[1]="#F8F8F8"}var u,b;n.properties={width:1219,height:678,fps:20,color:"#FFFFFF",isExercise:!0,manifest:[{src:"https://majemastoragetest.blob.core.windows.net/math-test/FK1/files/kymppi/tincan/images/hundrakamrater_3.png",id:"dustbin"},{src:"https://majemastoragetest.blob.core.windows.net/math-test/FK1/files/kymppi/tincan/images/tallinje_1.png",id:"dustbinPaper"},{src:"https://majemastoragetest.blob.core.windows.net/math-test/FK1/files/kymppi/tincan/images/pengar_2.png",id:"notepad"},{src:"https://majemastoragetest.blob.core.windows.net/math-test/FK1/files/kymppi/tincan/images/1kr.png",id:"kr_1"},{src:"https://majemastoragetest.blob.core.windows.net/math-test/FK1/files/kymppi/tincan/images/2kr.png",id:"kr_2"},{src:"https://majemastoragetest.blob.core.windows.net/math-test/FK1/files/kymppi/tincan/images/5kr.png",id:"kr_5"},{src:"https://majemastoragetest.blob.core.windows.net/math-test/FK1/files/kymppi/tincan/images/10kr.png",id:"kr_10"}]};b={x:1150,y:210,scaleX:.5,scaleY:.5,wrongX:900,wrongY:330};(n.notepad=function(){this.initialize(t.notepad)}).prototype=u=new i.Bitmap;u.virtualBounds=new i.Rectangle(0,0,121,121);(n.kr_1=function(){this.initialize(t.kr_1)}).prototype=u=new i.Bitmap;u.virtualBounds=new i.Rectangle(0,0,121,121);(n.kr_2=function(){this.initialize(t.kr_2)}).prototype=u=new i.Bitmap;u.virtualBounds=new i.Rectangle(0,0,121,121);(n.kr_5=function(){this.initialize(t.kr_5)}).prototype=u=new i.Bitmap;u.virtualBounds=new i.Rectangle(0,0,121,121);(n.kr_10=function(){this.initialize(t.kr_10)}).prototype=u=new i.Bitmap;u.virtualBounds=new i.Rectangle(0,0,121,121);(n.dustbinPaper=function(){this.initialize(t.dustbinPaper)}).prototype=u=new i.Bitmap;u.virtualBounds=new i.Rectangle(0,0,121,121);(n.dustbin=function(){this.initialize(t.dustbin)}).prototype=u=new i.Bitmap;u.virtualBounds=new i.Rectangle(0,0,121,121);(n.Basement=function(){this.initialize();this.header=new n.exerciseTitle;this.header.setTransform(0,-30,1,1,0,0,0,0,0);this.addChild(this.header)}).prototype=u=new i.Container;u.virtualBounds=new i.Rectangle(0,0,610.9,650);var o={x:-29,y:28,width:40,height:40},h=!1;var f,r=[],c=[],s=[],e=[];(n.Stage1=function(){var h,t,a,r,v,u,p,e,o,s,w;this.initialize();thisStage=this;thisStage.currentAnswer=0;this.img_notepad=new n.notepad;this.img_notepad.setTransform(60,-180,1.9,1.8);this.addChild(this.img_notepad);this.coin=new i.Container;h=new n.kr_1;t=new createjs.Container;t.x=1190;t.y=-45;t.value="1kr";t.addChild(h);this.coin.addChild(t);t.on("mousedown",l);a=new n.kr_2;r=new createjs.Container;r.x=1185;r.y=60;r.value="2kr";r.addChild(a);this.coin.addChild(r);r.on("mousedown",l);v=new n.kr_5;u=new createjs.Container;u.x=1185;u.y=185;u.value="5kr";u.addChild(v);this.coin.addChild(u);u.on("mousedown",l);p=new n.kr_10;e=new createjs.Container;e.x=1198;e.y=320;e.value="10kr";e.addChild(p);this.coin.addChild(e);e.on("mousedown",l);o=new createjs.Container;o.x=135;o.y=-100;s=new createjs.Shape;s.graphics.f("#ffffff").s("#ffffff").drawRoundRect(1,-18,948,607,1);o.value="kr";o.addChild(s);c.push(o);this.addChild(this.coin,o);this.img_dustbin=new n.dustbin;this.img_dustbin.setTransform(-110,430,.7,.7);this.img_dustbin.type="toTransform";this.img_dustbinPaper=new n.dustbinPaper;this.img_dustbinPaper.setTransform(-110,430,.7,.7);this.img_dustbinPaper.type="toTransform";this.img_dustbinPaper.visible=!1;this.img_dustbinPaper.on("click",function(){y()});this.addChild(this.img_dustbin,this.img_dustbinPaper);f=this;w=this;exerciseCount=0;this.onNewExercise=function(){typeof btn_newExercise!="undefined"&&$(btn_newExercise).hide()};this.onNewExercise()}).prototype=u=new i.Container;u.virtualBounds=new i.Rectangle(0,0,610.9,650);(n.exerciseTitle=function(){this.initialize();this.text=new i.Text("Boss och Silkys knappar","bold 28px 'Myriad Pro'","000000");this.text.visible=!1;this.text.setTransform(50,5);this.addChild(this.text)}).prototype=u=new i.Container;u.virtualBounds=new i.Rectangle(0,0,610.9,650);(n.exercise=function(){this.initialize();this.other=new n.Basement;this.other.setTransform(0,40,1,1);this.stage1=new n.Stage1;this.stage1.setTransform(100,100,1,1,0,0,0);this.addChild(this.other,this.stage1)}).prototype=u=new i.Container;u.virtualBounds=new i.Rectangle(0,0,610.9,677.5)})(lib=lib||{},images=images||{},createjs=createjs||{});