function popupFunctions(){var n,i;if(!$(this).hasClass("disabled")){n="#"+$(this).data("modalid");$(n).find("ul.tabs").tabs("select_tab",$(this).data("tabid"));var r=$(n+" .tabContent").not(".hidden"),u=$(n).data("current-chapter"),t=[];$.each($(n+" .tabs li").not(".hidden"),function(n,i){t.push($(i).find("a").html())});i=$(n).data("chapter-frame-count")}}function NoClickDelay(n){this.element=typeof n=="object"?n:document.getElementById(n);window.Touch&&this.element.addEventListener("touchstart",this,!1)}function canvasFontAdjust(n){function i(n){var t=[];$.each(n,function(n,f){f==null||f==undefined||(f.getNumChildren&&n!="parent"?i(f):f.font&&(t.push(r(f)),u(t[t.length-1])))})}function r(n){var t,u,f,e,i,r;return t=n.font.split("px "),t=t[0].split(" ").concat(t[1]),t.length==2&&t.splice(0,0,""),u=t[0],f=parseFloat(t[1].replace("px","")),e=t[2],i=!1,n.text.indexOf("<u>")>-1&&(i=!0,n.text=n.text.replace("<u>","")),r=n.getTransformedBounds(),{item:n,x:n.x,y:n.y,width:r.width,height:r.height,scaleX:n.scaleX,scaleY:n.scaleX,text:n.text,style:u,size:f,font:e,underline:i}}function u(n){var r,u,f,i,e;r=n.size;u=n.font;i=0;t[u]&&(i=t[u]);isNaN(r)||isNaN(i)||(n.y=n.item.y+=i*r);n.x=n.item.x+=2;e=1;n.scaleX*=e;n.item.scaleX*=n.scaleX;f=n.item.getTransformedBounds();n.width=f.width;n.height=f.height}var t={ie:{"'UusiTekstaus'":.05,"'Myriad Pro'":.08,"'Tavutus'":.12,"'Arial'":.13},firefox:{"'UusiTekstaus'":5.5/30,"'Myriad Pro'":.32,"'Tavutus'":.3,"'Arial'":.3},chrome:{"'UusiTekstaus'":.03,"'Myriad Pro'":.08,"'Tavutus'":.13,"'Arial'":.17},opera:{"'UusiTekstaus'":.03,"'Myriad Pro'":.08,"'Tavutus'":.13,"'Arial'":.17},safari:{"'UusiTekstaus'":.03,"'Myriad Pro'":.1,"'Tavutus'":.33,"'Arial'":.1}};t=bowser?bowser.msie?t.ie:bowser.firefox?t.firefox:bowser.safari||mathviewer.iosVersion!=undefined?t.safari:bowser.chrome?t.chrome:bowser.opera?t.opera:{}:{};i(n)}function loadAssetsForIE9(){var t,n,i;if(/MSIE\s/.test(navigator.userAgent)&&parseFloat(navigator.appVersion.split("MSIE")[1])<10)for(t=0;t<lib.properties.manifest.length;t++)n=lib.properties.manifest[t].src,i=location.protocol+"//"+location.host+"/",n=n.replace("https://majemastoragetest.blob.core.windows.net/math-test/FK1/",i+"mathviewer-FK1/"),n=n.replace("https://majemastoragelive.blob.core.windows.net/math-test/Fk1/",i+"mathviewer-FK1/"),lib.properties.manifest[t].src=n}$(document).on("click",".submenu >  li",function(){$("#"+$(this).data("modalid")).openModal();$("#"+$(this).data("modalid")).find("ul.tabs").tabs("select_tab",$(this).data("tabid"))});NoClickDelay.prototype.offset=function(){var t=_y=0,n=document;if(n.offsetParent)do t+=n.offsetLeft,_y+=n.offsetTop;while(n=n.offsetParent);return{x:t,y:_y}};$(document).on("keyup",".leanModal",function(n){n.keyCode===27});$(document).on("click",".leanModal",function(n){n.keyCode===27});var defaultLanguage="SV",mathviewer={setExerciseSlideCount:function(n,t,i){var r=window.parent.document.getElementById("modalViLar"),u=t!=undefined?t+";"+i:"undefined";r.dataset!==undefined?(r.dataset.slideCount=n,r.dataset.tabSlideCount=u):(r.setAttribute("data-tab-slide-count",u),r.setAttribute("data-slide-count",n))},setIconVisibility:function(n,t){window.parent&&window.parent.setIconVisibility(n,t)},setImageAudios:function(n,t){var i=window.parent.document.getElementById("splashImg");i.src=t;window.parent.setMedia(n)},initMaterializeComponents:function(){$("ul.tabs").tabs();$(".dropdown-button").dropdown({inDuration:300,outDuration:225,constrain_width:!1,hover:!1,gutter:20,belowOrigin:!1})},getTranslation:function(n,t){var i={Previous:{EN:"Previous",SV:"Tidigare"},Next:{EN:"Next",SV:"Nästa"},Return:{EN:"Return",SV:"Tillbaka"},PreviousExercise:{EN:"Previous Exercise",SV:"Föregående"},NextExercise:{EN:"Next Exercise",SV:"Nästa"},ResetExercise:{EN:"Reset Exercise",SV:"Från början"},CheckAnswer:{EN:"Check Answer",SV:"Kontrollera"},NewExercise:{EN:"New Exercise",SV:"Fortsätt"}};return(t=t||"SV",i[n]&&i[n][t])?i[n][t]:n},androidVersion:function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("android")>-1},iOSversion:function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var n=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3]||0,10)]}},compatiblitySetup:function(){window.parent==this&&$("html").addClass("orphan");var n=this.iOSversion(),t=this.androidVersion();n!=undefined&&n[0]==7?$("html").addClass("ipad ios7"):n==undefined&&$("html").addClass("no-touch")},isTouchDevice:function(){var n=!1;return typeof Modernizr=="undefined"?n===("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||window.navigator.msMaxTouchPoints):n=window.navigator.msMaxTouchPoints||Modernizr.touch,n},addToolbarItem:function(n,t,i,r,u,f,e){var o=document.createElement("a");if($(o).attr("title",n),$(o).addClass("toolbarButton btn_home "+t),e&&($(o).attr("data-tabid",i),r=="modalLyssna"?$(o).attr("onClick","openLyssna()"):(r=="modalViOvar"&&$(o).attr("onClick","javascript:$('#toggleEditor').hide()"),$(o).attr("data-modalid",r),$(o).attr("data-target",r),$(o).leanModal({dismissible:!0,opacity:.5,in_duration:300,out_duration:200,ready:function(){$($("#toggleEditor").parent()[0]).addClass("inPopup");r=="modalViLar"&&setTimeout(function(){$("#toggleEditor").show();$("#toggler").show()},500);clearEditTextContent()},complete:function(){var u,i,n,t;for($($("#toggleEditor").parent()[0]).removeClass("inPopup"),$("#toggleEditor").show(),u=$("#"+r+" .contentTabs").find(".tabContent").length,t=1;t<=u;t++)for(i="#tab"+t,n=0;n<$("#"+r+" "+i).find("iframe").length;n++)$("#"+r+" "+i).find("iframe")[n].src="preloader.html?iframe=true";for(n=0;n<$("#tabs1").find("a").length;n++)t=$("#"+r+" #tabs1").find("a")[n],$(t).removeClass();clearEditTextContent()}}))),u!=!1)$(o).on("click",u);if(f)$(o).on({mouseenter:function(){if(!$(this).hasClass("disabled")){var n=$(this).find("img");n.attr("src",n.data("hoverOn"))}},mouseleave:function(){if(!$(this).hasClass("disabled")){var n=$(this).find("img");n.attr("src",n.data("hoverOff"))}}});return new NoClickDelay(o),o},postRenderFunctions:function(){$(".dropdown-button").dropdown({inDuration:300,outDuration:225,constrain_width:!1,hover:!0,gutter:140,belowOrigin:!1})},setExerciseTabs:function(n,t,i,r){var u,e,o,c,h,l,f,a,s;for(r||(r="modalViLar"),u=window.parent.document.getElementById(r),e=null,u.dataset!==undefined?(e=u.dataset.currentChapter,e&&(e=parseInt(e)),u.dataset.currentChapter=t,u.dataset.slideCount=0,u.dataset.tabSlideCount="undefined"):(e=u.getAttribute("data-current-chapter"),e&&(e=parseInt(e)),u.setAttribute("data-current-chapter",t),u.setAttribute("data-slide-count",0),u.setAttribute("data-tab-slide-count","undefined")),o=$(window.parent.document).find("#"+r+" .tabs li"),$(window.parent.document).find(".exercise.resetFrame").hide(),$(window.parent.document).find(".exercise.prevFrame").addClass("disabled"),c=$(window.parent.document).find("#"+r+" .tabContent"),o.removeClass("hidden").addClass("hidden"),c.removeClass("hidden").addClass("hidden"),h=n,l="width:"+100/n+"%",f=0;f<h;f++)h==1?($(o[f]).find("a").html(""),$(o[f])[0].setAttribute("style",l)):($(o[f]).find("a").html(i[f]),$(o[f])[0].setAttribute("style",l)),$(o[f]).removeClass("hidden").removeClass("shown").addClass("shown"),$(c[f]).removeClass("hidden");a=$(window.parent.document).find("#"+r+" .tabs");s=a.find(".shown");s.first().removeClass("noLeftBorder").removeClass("noRightBorder");s.last().removeClass("noLeftBorder").removeClass("noRightBorder");h==1?s.first().addClass("noLeftBorder noRightBorder"):(s.first().addClass("noLeftBorder"),s.last().addClass("noRightBorder"))},getPixelRatio:function(n){var t=n.backingStorePixelRatio||n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t}};