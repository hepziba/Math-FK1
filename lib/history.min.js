/*!
 * History API JavaScript Library v4.2.5
 *
 * Support: IE8+, FF3+, Opera 9+, Safari, Chrome and other
 *
 * Copyright 2011-2015, Dmitrii Pakhtinov ( spb.piksel@gmail.com )
 *
 * http://spb-piksel.ru/
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Update: 2015-12-22 14:26
 */
(function(n){if(typeof define=="function"&&define.amd){var t="[history"+(new Date).getTime()+"]",i=requirejs.onError;n.toString=function(){return t};requirejs.onError=function(n){n.message.indexOf(t)===-1&&i.call(requirejs,n)};define([],n)}if(typeof exports=="object"&&typeof module!="undefined")module.exports=n();else return n()})(function(){function ht(){}function u(n,f,o){var h,c,l,a;n==null||n===""||f?(n=f?n:t.href,(!e||o)&&(n=n.replace(/^[^#]*/,"")||"#",n=t.protocol.replace(/:.*$|$/,":")+"//"+t.host+r.basepath+n.replace(new RegExp("^#[/]?(?:"+r.type+")?"),""))):(h=u(),c=i.getElementsByTagName("base")[0],!o&&c&&c.getAttribute("href")&&(c.href=c.href,h=u(c.href,null,!0)),l=h._pathname,a=h._protocol,n=""+n,n=/^(?:\w+\:)?\/\//.test(n)?n.indexOf("/")===0?a+n:n:a+"//"+h._host+(n.indexOf("/")===0?n:n.indexOf("?")===0?l+n:n.indexOf("#")===0?l+h._search+n:l.replace(/[^\/]+$/g,"")+n));vt.href=n;var s=/(?:(\w+\:))?(?:\/\/(?:[^@]*@)?([^\/:\?#]+)(?::([0-9]+))?)?([^\?#]*)(?:(\?[^#]+)|\?)?(?:(#.*))?/.exec(vt.href),w=s[2]+(s[3]?":"+s[3]:""),v=s[4]||"/",y=s[5]||"",p=s[6]==="#"?"":s[6]||"",b=v+y+p,k=v.replace(new RegExp("^"+r.basepath,"i"),r.type)+y;return{_href:s[1]+"//"+w+b,_protocol:s[1],_host:w,_hostname:s[2],_port:s[3]||"",_pathname:v,_search:y,_hash:p,_relative:b,_nohash:k,_special:k+p}}function ui(){var t=n.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:!!ft}function fi(){var r;try{r=n.sessionStorage;r.setItem(g+"t","1");r.removeItem(g+"t")}catch(u){r={getItem:function(n){var t=i.cookie.split(n+"=");return t.length>1&&t.pop().split(";").shift()||"null"},setItem:function(n){var r={};(r[t.href]=f.state)&&(i.cookie=n+"="+l.stringify(r))}}}try{o=l.parse(r.getItem(g))||{}}catch(u){o={}}c(a+"unload",function(){r.setItem(g,l.stringify(o))},!1)}function tt(t,i,r,u){var l=0,a,f,e;r||(r={set:ht},l=1);var o=!r.set,s=!r.get,h={configurable:!0,set:function(){o=1},get:function(){s=1}};try{p(t,i,h);t[i]=t[i];p(t,i,r)}catch(v){}if((!o||!s)&&(t.__defineGetter__&&(t.__defineGetter__(i,h.get),t.__defineSetter__(i,h.set),t[i]=t[i],r.get&&t.__defineGetter__(i,r.get),r.set&&t.__defineSetter__(i,r.set)),!o||!s)){if(l)return!1;if(t===n){try{a=t[i];t[i]=null}catch(v){}if("execScript"in n)n.execScript("Public "+i,"VBScript"),n.execScript("var "+i+";","JavaScript");else try{p(t,i,{value:ht})}catch(v){i==="onpopstate"&&(c("popstate",r=function(){ot("popstate",r,!1);var n=t.onpopstate;t.onpopstate=null;setTimeout(function(){t.onpopstate=n},1)},!1),pt=0)}t[i]=a}else try{try{f=ut.create(t);p(ut.getPrototypeOf(f)===t?f:t,i,r);for(e in t)typeof t[e]=="function"&&(f[e]=t[e].bind(t));try{u.call(f,f,t)}catch(v){}t=f}catch(v){p(t.constructor.prototype,i,r)}}catch(v){return!1}}return t}function ei(n,i,r){return r=r||{},n=n===kt?t:n,r.set=r.set||function(t){n[i]=t},r.get=r.get||function(){return n[i]},r}function oi(n,t,i){n in v?v[n].push(t):arguments.length>3?c(n,t,i,arguments[3]):c(n,t,i)}function si(n,t,i){var r=v[n],u;if(r){for(u=r.length;u--;)if(r[u]===t){r.splice(u,1);break}}else ot(n,t,i)}function it(t,i){var u=(""+(typeof t=="string"?t:t.type)).replace(/^on/,""),f=v[u],e,r,o;if(f){if(i=typeof t=="string"?i:t,i.target==null)for(e=["target","currentTarget","srcElement","type"];t=e.pop();)i=tt(i,t,{get:t==="type"?function(){return u}:function(){return n}});for(pt&&((u==="popstate"?n.onpopstate:n.onhashchange)||ht).call(n,i),r=0,o=f.length;r<o;r++)f[r].call(n,i);return!0}return ii(t,i)}function dt(){var n=i.createEvent?i.createEvent("Event"):i.createEventObject();n.initEvent?n.initEvent("popstate",!1,!1):n.type="popstate";n.state=f.state;it(n)}function hi(){nt&&(nt=!1,dt())}function b(n,i,r,f){if(e)w=t.href;else{s===0&&(s=2);var h=u(i,s===2&&(""+i).indexOf("#")!==-1);h._relative!==u()._relative&&(w=f,r?t.replace("#"+h._special):t.hash=h._special)}!k&&n&&(o[t.href]=n);nt=!1}function gt(i){var e=w,r,f;w=t.href;e&&(yt!==t.href&&dt(),i=i||n.event,r=u(e,!0),f=u(),i.oldURL||(i.oldURL=r._href,i.newURL=f._href),r._hash!==f._hash&&it(i))}function ni(n){setTimeout(function(){c("popstate",function(n){yt=t.href;k||(n=tt(n,"state",{get:function(){return f.state}}));it(n)},!1)},0);!e&&n!==!0&&"location"in f&&(ti(d.hash),hi())}function ci(n){while(n){if(n.nodeName==="A")return n;n=n.parentNode}}function li(t){var i=t||n.event,f=ci(i.target||i.srcElement),o="defaultPrevented"in i?i.defaultPrevented:i.returnValue===!1;if(f&&f.nodeName==="A"&&!o){var e=u(),r=u(f.getAttribute("href",2)),s=e._href.split("#").shift()===r._href.split("#").shift();s&&r._hash&&(e._hash!==r._hash&&(d.hash=r._hash),ti(r._hash),i.preventDefault?i.preventDefault():i.returnValue=!1)}}function ti(t){var r=i.getElementById(t=(t||"").replace(/^#/,"")),u;r&&r.id===t&&r.nodeName==="A"&&(u=r.getBoundingClientRect(),n.scrollTo(rt.scrollLeft||0,u.top+(rt.scrollTop||0)-(rt.clientTop||0)))}function ai(){var y=i.getElementsByTagName("script"),p=(y[y.length-1]||{}).src||"",b=p.indexOf("?")!==-1?p.split("?").pop():"",o,t,h,w;for(b.replace(/(\w+)(?:=([^&]*))?/g,function(n,t,i){r[t]=(i||"").replace(/^(0|false)$/,"")}),c(a+"hashchange",gt,!1),o=[kt,d,ri,n,bt,f],k&&delete bt.state,t=0;t<o.length;t+=2)for(h in o[t])if(o[t].hasOwnProperty(h))if(typeof o[t][h]!="object")o[t+1][h]=o[t][h];else{if(w=ei(o[t],h,o[t][h]),!tt(o[t+1],h,w,function(i,r){r===f&&(n.history=f=o[t+1]=i)}))return ot(a+"hashchange",gt,!1),!1;o[t+1]===n&&(v[h]=v[h.substr(2)]=[])}return f.setup(),r.redirect&&f.redirect(),r.init&&(s=1),!k&&l&&fi(),e||i[et](a+"click",li,!1),i.readyState==="complete"?ni(!0):(e||u()._relative===r.basepath||(nt=!0),c(a+"load",ni,!1)),!0}var n=(typeof window=="object"?window:this)||{};if(!n.history||"emulate"in n.history)return n.history;var i=n.document,rt=i.documentElement,ut=n.Object,l=n.JSON,t=n.location,h=n.history,f=h,ft=h.pushState,ct=h.replaceState,e=ui(),k="state"in h,p=ut.defineProperty,d=tt({},"t")?{}:i.createElement("a"),a="",et=n.addEventListener?"addEventListener":(a="on")&&"attachEvent",lt=n.removeEventListener?"removeEventListener":"detachEvent",at=n.dispatchEvent?"dispatchEvent":"fireEvent",c=n[et],ot=n[lt],ii=n[at],r={basepath:"/",redirect:0,type:"/",init:0},g="__historyAPI__",vt=i.createElement("a"),w=t.href,yt="",pt=1,nt=!1,s=0,o={},v={},y=i.title,st,ri={onhashchange:null,onpopstate:null},wt=function(t,i){var r=n.history!==h;r&&(n.history=h);t.apply(h,i);r&&(n.history=f)},bt={setup:function(n,t,i){r.basepath=(""+(n==null?r.basepath:n)).replace(/(?:^|\/)[^\/]*$/,"/");r.type=t==null?r.type:t;r.redirect=i==null?r.redirect:!!i},redirect:function(i,o){if(f.setup(o,i),o=r.basepath,n.top==n.self){var h=u(null,!1,!0)._relative,s=t.pathname+t.search;e?(s=s.replace(/([^\/])$/,"$1/"),h!=o&&new RegExp("^"+o+"$","i").test(s)&&t.replace(h)):s!=o&&(s=s.replace(/([^\/])\?/,"$1/?"),new RegExp("^"+o,"i").test(s)&&t.replace(o+"#"+s.replace(new RegExp("^"+o,"i"),r.type)+t.hash))}},pushState:function(n,t,r){var u=i.title;y!=null&&(i.title=y);ft&&wt(ft,arguments);b(n,r);i.title=u;y=t},replaceState:function(n,r,u){var f=i.title;y!=null&&(i.title=y);delete o[t.href];ct&&wt(ct,arguments);b(n,u,!0);i.title=f;y=r},location:{set:function(t){s===0&&(s=1);n.location=t},get:function(){return s===0&&(s=1),d}},state:{get:function(){return typeof o[t.href]=="object"?l.parse(l.stringify(o[t.href])):typeof o[t.href]!="undefined"?o[t.href]:null}}},kt={assign:function(n){e||(""+n).indexOf("#")!==0?t.assign(n):b(null,n)},reload:function(n){t.reload(n)},replace:function(n){e||(""+n).indexOf("#")!==0?t.replace(n):b(null,n,!0)},toString:function(){return this.href},origin:{get:function(){return st!==void 0?st:t.origin?t.origin:t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")},set:function(n){st=n}},href:e?null:{get:function(){return u()._href}},protocol:null,host:null,hostname:null,port:null,pathname:e?null:{get:function(){return u()._pathname}},search:e?null:{get:function(){return u()._search}},hash:e?null:{set:function(n){b(null,(""+n).replace(/^(#|)/,"#"),!1,w)},get:function(){return u()._hash}}};if(ai())return f.emulate=!e,n[et]=oi,n[lt]=si,n[at]=it,f});